<!DOCTYPE html> 
<html manifest="offlinedatabase.manifest">
   <head> 
    <meta charset="utf-8">
      <title>Formulário jQuery Mobile </title> 
      <!--
      @autor - Pedro Henrique Duarte de Oliveira
      @data - maio de 2013
      @objetivo - Apresentar a Utilização da WebSQL      
      -->
	    <link rel="stylesheet" href="jquery.mobile-1.3.1.css" />
		<script src="jquery-1.8.2.min.js"></script>
		<script src="jquery.mobile-1.3.0.min.js"></script>
        <script type="text/javascript" src="dao.js"></script>
		<script type="text/javascript" src="contato.js"></script>
        <script type="text/javascript">
			var conexao = new Conexao();
			var ctrlContato = new ControleContato();
        </script>
        
        
   </head> 

   <body> 
         <div data-role="page" id="novo">
        	<div data-role="header">
             	<h1>jQuery Mobile</h1> 
                <div data-role="navbar">
                    <ul>
                        <li><a href="#novo" data-icon="star" onClick="ctrlContato.limpar()">NOVO</a></li>
                        <li><a href="#index" data-icon="grid" onClick="listar()">Contatos</a></li>
                    </ul>
                </div>                   
            </div>      
            <div data-role="content">
               
                    <input type="hidden" name="cod" id="cod" value="">
                     
            	<div data-role="fieldcontain">
                    <label for="nome">Nome:</label>
                    <input type="text" name="nome" id="nome" placeholder="Nome completo"/>
                </div>
            	<div data-role="fieldcontain">
                    <label for="telefone">Telefone:</label>
                    <input type="tel" name="telefone" id="telefone" placeholder="(DDD)9999-9999"/>
                </div>
                <div data-role="fieldcontain">
                    <label for="email">e-Mail:</label>
                    <input type="email" name="email" id="email" placeholder="email@dominio.com"/>
                </div>
                <button data-role="button" data-inline="true" onClick="ctrlContato.cadastrar()"  data-icon="check" data-iconpos="notext" >Salvar</button>
                <span id='excluir'><button onclick="ctrlContato.excluir()" data-role="button" data-inline="true" data-icon="delete" data-iconpos="notext" >Excluir</button></span>
                
        	<script type="text/javascript">$('#excluir').hide();</script>        
            </div>
            <div data-role="footer" data-position="fixed">
             <h2>Pedro Henrique Duarte de Oliveira</h2>
            </div>
       </div>
       <div data-role="page" id="index">
       	<div data-role="header"><h1>jQuery Mobile</h1> 
                <div data-role="navbar">
                    <ul>
                        <li><a href="#novo" data-icon="star" onClick="ctrlContato.limpar()">NOVO</a></li>
                        <li><a href="#index" data-icon="grid" onClick="listar()">Contatos</a></li>
                    </ul>
                </div>  
        </div>
        <div data-role="content">
              <style type="text/css">
			  #lista li ul li { display: inline; }
			  </style>
              <!-- O Jquery Mobile perde a formatação quando é adicionado elemento dinamicamente-->
                <ul id="lista" class="ui-body-d ui-shadow table-stripe ui-responsive" data-role="listview" data-filter="true" data-filter-placeholder="Buscar:" data-inset="false">
	                <script type="text/javascript">listar()</script>
                </ul>
            
        </div>
        <div data-role="footer" data-position="fixed">
        	<h2>Pedro Henrique Duarte de Oliveira</h2>
        </div>
       </div>
	</body>
</html>